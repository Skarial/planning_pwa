<!doctype html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Planning chauffeur</title>
    <meta
      name="description"
      content="Gestion du planning de service pour chauffeurs"
    />

    <!-- PWA -->
    <meta name="theme-color" content="#0066ff" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />

    <link rel="manifest" href="./manifest.webmanifest" />

    <!-- iOS icon -->
    <link rel="apple-touch-icon" href="./assets/icons/icon-192.png" />

    <!-- Favicon -->
    <link rel="icon" href="./assets/icons/icon-192.png" />

    <!-- Styles -->
    <link rel="stylesheet" href="./css/style.css" />
    <link rel="stylesheet" href="./css/tetribus.css" />
  </head>

  <body>
    <!-- MENU -->
    <button id="menu-toggle" aria-label="Menu">‚ò∞</button>
    <div id="menu-overlay"></div>

    <nav id="side-menu" aria-hidden="true">
      <div id="side-menu-scroll">
        <div class="menu-section">
          <h3>Navigation</h3>

          <button data-action="day">Vue jour</button>
          <button data-action="month">Planning mensuel</button>
          <button data-action="guided-month">Pr√©parer mois suivant</button>
          <button data-action="tetribus">üéÆ Tetribus</button>
        </div>

        <div class="menu-section">
          <h3>Outils</h3>

          <button id="menu-consult-date">Consulter une date</button>

          <div id="consult-date-form" class="menu-form hidden">
            <label for="consult-date-input">Date</label>
            <input type="date" id="consult-date-input" />
            <button id="consult-date-submit">Valider</button>
          </div>

          <button id="menu-season">P√©riode saisonni√®re</button>

          <div id="season-form" class="menu-form hidden">
            <label for="season-start">D√©but</label>
            <input type="date" id="season-start" />
            <label for="season-end">Fin</label>
            <input type="date" id="season-end" />
            <button id="season-submit">Valider</button>
            <button id="season-reset" type="button">
              R√©initialiser la saison
            </button>
          </div>

          <button disabled>Import CSV</button>
          <button disabled>Export / partage</button>
          <button disabled>Sauvegarde / restauration</button>
        </div>

        <div class="menu-section">
          <h3>Param√®tres</h3>

          <button id="toggle-dark">Mode sombre</button>
          <button disabled>Mode paysage</button>
          <button disabled>France</button>
          <button disabled>Reset saisons</button>

          <button id="menu-reset" class="danger">R√©initialisation</button>

          <div id="reset-panel" class="menu-form hidden">
            <p class="reset-title">R√©initialisation du planning</p>

            <button id="reset-all" class="danger">
              R√©initialiser tout le planning
            </button>

            <button id="reset-month">R√©initialiser un mois</button>

            <div id="reset-month-picker" class="hidden">
              <div class="reset-month-nav">
                <button id="reset-prev-month">‚Üê</button>
                <span id="reset-month-label"></span>
                <button id="reset-next-month">‚Üí</button>
              </div>

              <button id="reset-confirm-month" class="danger">
                Maintenir pour r√©initialiser le mois
              </button>
            </div>
          </div>
        </div>

        <div id="menu-footer">
          <span id="app-version"></span>
        </div>
      </div>
    </nav>

    <!-- VUES -->
    <section id="view-home"></section>
    <section id="view-day" style="display: none"></section>
    <section id="view-month" style="display: none"></section>
    <section id="view-guided-month" style="display: none"></section>
    <section id="view-tetribus" style="display: none">
      <div id="tetribus">
        <div id="game-container">
          <div id="header">
            <h1>Tetribus</h1>
            <div>
              <span id="score">Score : <span id="score-value">0</span></span>
              |
              <span id="level">Niveau : <span id="level-value">1</span></span>
            </div>
          </div>

          <div id="game-area">
            <div id="canvas-wrapper">
              <canvas id="game-canvas"></canvas>
            </div>

            <div id="game-over" class="hidden">
              <h2>Partie termin√©e</h2>
              <p>Score final : <span id="final-score">0</span></p>
              <button id="restart-btn">Recommencer</button>
            </div>
          </div>

          <div id="controls-area">
            <button id="btn-left" class="control-btn btn-left"></button>
            <button id="btn-rotate" class="control-btn btn-rotate"></button>
            <button id="btn-right" class="control-btn btn-right"></button>
          </div>
        </div>
      </div>
    </section>

    <!-- APP -->
    <script type="module" src="./js/app.js"></script>
  </body>
</html>
