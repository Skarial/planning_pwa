#!/bin/sh

EXPECTED_HOOKS_PATH=".githooks"
CURRENT_HOOKS_PATH=$(git config --get core.hooksPath)

if [ "$CURRENT_HOOKS_PATH" != "$EXPECTED_HOOKS_PATH" ]; then
  echo "‚ùå Hooks Git non install√©s."
  echo "üëâ Ex√©cute : scripts/setup.ps1"
  exit 1
fi

echo "Bump automatique de version..."

powershell -ExecutionPolicy Bypass -File ./bump-version.ps1

if [ $? -ne 0 ]; then
  echo "‚ùå √âchec du bump de version. Commit annul√©."
  exit 1
fi

echo "‚úÖ Version bump√©e et synchronis√©e."
